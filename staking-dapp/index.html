<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>DogeRocket Staking dApp</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <script src="https://unpkg.com/ethers@5.7.2/dist/ethers.umd.min.js"></script>
  <link href="https://cdn.jsdelivr.net/npm/remixicon@4.3.0/fonts/remixicon.css" rel="stylesheet">
  
  <style>
    body { overflow-y: auto; }
    #particle-modal { all: initial; display: none; } /* Hide default if needed */
  </style>
</head>
<body class="bg-gradient-to-b from-blue-900 to-blue-500 text-white min-h-screen font-sans">
  <div id="root"></div>

  <script type="text/babel">
    const { useState, useEffect } = React;
    const { ethers } = window.ethers;

    // Contract & Token Info
    const CONTRACT_ADDRESS = "0xf67eEc63Ef76F59233Fc6ee8EF849Ca2d42c6D4e";
    const CHAIN_ID = 137;
    const RPC_URL = "https://polygon-rpc.com";
    const LOGO_URL = "https://gray-past-falcon-384.mypinata.cloud/ipfs/bafkreign7g276yq7ss6cqo7gtnrbvwrh5qbxmhgboamwdoiy5sv5lo6j4i";
    const SALE_URL = "https://dapp.quickswap.exchange/swap/v3/ETH/0x78835ae70722a6aa03aaa5d4501e3e0460f723f9";

    // Full ABI
    const ABI = [
      [
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "initialStaking",
				"type": "address"
			}
		],
		"stateMutability": "nonpayable",
		"type": "constructor"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "spender",
				"type": "address"
			},
			{
				"internalType": "uint256",
				"name": "allowance",
				"type": "uint256"
			},
			{
				"internalType": "uint256",
				"name": "needed",
				"type": "uint256"
			}
		],
		"name": "ERC20InsufficientAllowance",
		"type": "error"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "sender",
				"type": "address"
			},
			{
				"internalType": "uint256",
				"name": "balance",
				"type": "uint256"
			},
			{
				"internalType": "uint256",
				"name": "needed",
				"type": "uint256"
			}
		],
		"name": "ERC20InsufficientBalance",
		"type": "error"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "approver",
				"type": "address"
			}
		],
		"name": "ERC20InvalidApprover",
		"type": "error"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "receiver",
				"type": "address"
			}
		],
		"name": "ERC20InvalidReceiver",
		"type": "error"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "sender",
				"type": "address"
			}
		],
		"name": "ERC20InvalidSender",
		"type": "error"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "spender",
				"type": "address"
			}
		],
		"name": "ERC20InvalidSpender",
		"type": "error"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "owner",
				"type": "address"
			}
		],
		"name": "OwnableInvalidOwner",
		"type": "error"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "account",
				"type": "address"
			}
		],
		"name": "OwnableUnauthorizedAccount",
		"type": "error"
	},
	{
		"anonymous": false,
		"inputs": [
			{
				"indexed": true,
				"internalType": "address",
				"name": "owner",
				"type": "address"
			},
			{
				"indexed": true,
				"internalType": "address",
				"name": "spender",
				"type": "address"
			},
			{
				"indexed": false,
				"internalType": "uint256",
				"name": "value",
				"type": "uint256"
			}
		],
		"name": "Approval",
		"type": "event"
	},
	{
		"anonymous": false,
		"inputs": [
			{
				"indexed": false,
				"internalType": "uint256",
				"name": "amount",
				"type": "uint256"
			}
		],
		"name": "LockedTokensReleasedToPool",
		"type": "event"
	},
	{
		"anonymous": false,
		"inputs": [
			{
				"indexed": false,
				"internalType": "string",
				"name": "newCID",
				"type": "string"
			},
			{
				"indexed": false,
				"internalType": "string",
				"name": "newDescription",
				"type": "string"
			}
		],
		"name": "MetadataUpdated",
		"type": "event"
	},
	{
		"anonymous": false,
		"inputs": [
			{
				"indexed": true,
				"internalType": "address",
				"name": "previousOwner",
				"type": "address"
			},
			{
				"indexed": true,
				"internalType": "address",
				"name": "newOwner",
				"type": "address"
			}
		],
		"name": "OwnershipTransferred",
		"type": "event"
	},
	{
		"anonymous": false,
		"inputs": [
			{
				"indexed": true,
				"internalType": "address",
				"name": "oldStaking",
				"type": "address"
			},
			{
				"indexed": true,
				"internalType": "address",
				"name": "newStaking",
				"type": "address"
			}
		],
		"name": "StakingContractUpdated",
		"type": "event"
	},
	{
		"anonymous": false,
		"inputs": [
			{
				"indexed": true,
				"internalType": "address",
				"name": "oldWallet",
				"type": "address"
			},
			{
				"indexed": true,
				"internalType": "address",
				"name": "newWallet",
				"type": "address"
			}
		],
		"name": "TeamWalletUpdated",
		"type": "event"
	},
	{
		"anonymous": false,
		"inputs": [
			{
				"indexed": true,
				"internalType": "address",
				"name": "from",
				"type": "address"
			},
			{
				"indexed": true,
				"internalType": "address",
				"name": "to",
				"type": "address"
			},
			{
				"indexed": false,
				"internalType": "uint256",
				"name": "value",
				"type": "uint256"
			}
		],
		"name": "Transfer",
		"type": "event"
	},
	{
		"anonymous": false,
		"inputs": [
			{
				"indexed": true,
				"internalType": "address",
				"name": "wallet",
				"type": "address"
			},
			{
				"indexed": false,
				"internalType": "uint256",
				"name": "amount",
				"type": "uint256"
			}
		],
		"name": "VestedTokensClaimed",
		"type": "event"
	},
	{
		"inputs": [],
		"name": "DEPLOYER_ALLOCATION",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "INITIAL_LOCK_DURATION",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "LOCKED_ALLOCATION",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "MAX_SUPPLY",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "STAKING_REWARDS_ALLOCATION",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "VESTED_ALLOCATION",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "VESTING_PERIODS",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "owner",
				"type": "address"
			},
			{
				"internalType": "address",
				"name": "spender",
				"type": "address"
			}
		],
		"name": "allowance",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "spender",
				"type": "address"
			},
			{
				"internalType": "uint256",
				"name": "value",
				"type": "uint256"
			}
		],
		"name": "approve",
		"outputs": [
			{
				"internalType": "bool",
				"name": "",
				"type": "bool"
			}
		],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "account",
				"type": "address"
			}
		],
		"name": "balanceOf",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "uint256",
				"name": "amount",
				"type": "uint256"
			}
		],
		"name": "claimVested",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "contractDescription",
		"outputs": [
			{
				"internalType": "string",
				"name": "",
				"type": "string"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "decimals",
		"outputs": [
			{
				"internalType": "uint8",
				"name": "",
				"type": "uint8"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "deploymentTime",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "lockedClaimed",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "lockedRemaining",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "metadataCID",
		"outputs": [
			{
				"internalType": "string",
				"name": "",
				"type": "string"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "name",
		"outputs": [
			{
				"internalType": "string",
				"name": "",
				"type": "string"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "owner",
		"outputs": [
			{
				"internalType": "address",
				"name": "",
				"type": "address"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "uint256",
				"name": "amount",
				"type": "uint256"
			}
		],
		"name": "releaseLockedToPool",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "renounceOwnership",
		"outputs": [],
		"stateMutability": "pure",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "string",
				"name": "newCID",
				"type": "string"
			},
			{
				"internalType": "string",
				"name": "newDescription",
				"type": "string"
			}
		],
		"name": "setMetadata",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "newStaking",
				"type": "address"
			}
		],
		"name": "setStakingContract",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "newTeam",
				"type": "address"
			}
		],
		"name": "setTeamWallet",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "stakingContract",
		"outputs": [
			{
				"internalType": "address",
				"name": "",
				"type": "address"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "symbol",
		"outputs": [
			{
				"internalType": "string",
				"name": "",
				"type": "string"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "teamWallet",
		"outputs": [
			{
				"internalType": "address",
				"name": "",
				"type": "address"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "totalSupply",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "to",
				"type": "address"
			},
			{
				"internalType": "uint256",
				"name": "value",
				"type": "uint256"
			}
		],
		"name": "transfer",
		"outputs": [
			{
				"internalType": "bool",
				"name": "",
				"type": "bool"
			}
		],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "from",
				"type": "address"
			},
			{
				"internalType": "address",
				"name": "to",
				"type": "address"
			},
			{
				"internalType": "uint256",
				"name": "value",
				"type": "uint256"
			}
		],
		"name": "transferFrom",
		"outputs": [
			{
				"internalType": "bool",
				"name": "",
				"type": "bool"
			}
		],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "newOwner",
				"type": "address"
			}
		],
		"name": "transferOwnership",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "vestedClaimed",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "vestedRemaining",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	}
]
    ];

    function App() {
      const [provider, setProvider] = useState(null);
      const [signer, setSigner] = useState(null);
      const [contract, setContract] = useState(null);
      const [account, setAccount] = useState(null);
      const [balance, setBalance] = useState("0");
      const [apy, setApy] = useState("0");
      const [totalStaked, setTotalStaked] = useState("0");
      const [rewardPool, setRewardPool] = useState("0");
      const [userStake, setUserStake] = useState("0");
      const [pendingRewards, setPendingRewards] = useState("0");
      const [stakeAmount, setStakeAmount] = useState("");
      const [unstakeAmount, setUnstakeAmount] = useState("");
      const [donateAmount, setDonateAmount] = useState("");
      const [error, setError] = useState("");
      const [loading, setLoading] = useState(false);

      // Load global data on start
      useEffect(() => {
        const init = async () => {
          const rpc = new ethers.providers.JsonRpcProvider(RPC_URL);
          const c = new ethers.Contract(CONTRACT_ADDRESS, ABI, rpc);
          setProvider(rpc);
          setContract(c);

          const [apyRaw, totalRaw, poolRaw] = await Promise.all([
            c.currentAPY(),
            c.totalStaked(),
            c.rewardPool()
          ]);
          setApy((Number(ethers.utils.formatUnits(apyRaw, 0)) / 100).toFixed(2));
          setTotalStaked(ethers.utils.formatEther(totalRaw));
          setRewardPool(ethers.utils.formatEther(poolRaw));
        };
        init();
      }, []);

      // Listen to provider events
      useEffect(() => {
        if (!window.ethereum) return;

        const handleAccountsChanged = async (accounts) => {
          if (accounts.length === 0) {
            setAccount(null);
            setSigner(null);
            setBalance("0");
            setUserStake("0");
            setPendingRewards("0");
            const rpc = new ethers.providers.JsonRpcProvider(RPC_URL);
            setContract(new ethers.Contract(CONTRACT_ADDRESS, ABI, rpc));
            return;
          }
          await refreshUserData(accounts[0]);
        };

        const handleChainChanged = () => window.location.reload();

        window.ethereum.on('accountsChanged', handleAccountsChanged);
        window.ethereum.on('chainChanged', handleChainChanged);

        // Auto-connect if already logged in
        if (window.ethereum.isConnected?.() && window.ethereum.selectedAddress) {
          handleAccountsChanged([window.ethereum.selectedAddress]);
        }

        return () => {
          window.ethereum.removeListener('accountsChanged', handleAccountsChanged);
          window.ethereum.removeListener('chainChanged', handleChainChanged);
        };
      }, []);

      const connectWallet = async () => {
        if (!window.ethereum) {
          setError("No Ethereum provider detected. Please install MetaMask or another wallet.");
          return;
        }
        setLoading(true);
        setError("");
        try {
          // Request accounts
          const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' });
          // Check chain
          const chainId = Number((await window.ethereum.request({ method: 'eth_chainId' })));
          if (chainId !== CHAIN_ID) {
            try {
              await window.ethereum.request({
                method: 'wallet_switchEthereumChain',
                params: [{ chainId: `0x${CHAIN_ID.toString(16)}` }],
              });
            } catch (switchErr) {
              if (switchErr.code === 4902) {
                await window.ethereum.request({
                  method: 'wallet_addEthereumChain',
                  params: [{
                    chainId: `0x${CHAIN_ID.toString(16)}`,
                    chainName: 'Polygon Mainnet',
                    nativeCurrency: { name: 'MATIC', symbol: 'MATIC', decimals: 18 },
                    rpcUrls: [RPC_URL],
                    blockExplorerUrls: ['https://polygonscan.com/'],
                  }],
                });
              } else {
                throw switchErr;
              }
            }
          }
          await refreshUserData(accounts[0]);
        } catch (e) {
          setError("Connection failed: " + (e.message || "User rejected"));
        } finally {
          setLoading(false);
        }
      };

      const disconnectWallet = async () => {
        try {
          await window.ethereum.request({ method: 'eth_accounts' }); // Clear accounts
          setAccount(null);
          setSigner(null);
          setBalance("0");
          setUserStake("0");
          setPendingRewards("0");
          const rpc = new ethers.providers.JsonRpcProvider(RPC_URL);
          setContract(new ethers.Contract(CONTRACT_ADDRESS, ABI, rpc));
        } catch (e) {
          console.error(e);
        }
      };

      const refreshUserData = async (addr) => {
        const prov = new ethers.providers.Web3Provider(window.ethereum);
        const signerInst = prov.getSigner();
        const contractWithSigner = new ethers.Contract(CONTRACT_ADDRESS, ABI, signerInst);

        setProvider(prov);
        setSigner(signerInst);
        setContract(contractWithSigner);
        setAccount(addr);

        const [bal, stakeInfo, reward, totalS, pool, apyRaw] = await Promise.all([
          contractWithSigner.balanceOf(addr),
          contractWithSigner.dogeStakes(addr),
          contractWithSigner.calculateReward(addr),
          contractWithSigner.totalStaked(),
          contractWithSigner.rewardPool(),
          contractWithSigner.currentAPY()
        ]);

        setBalance(ethers.utils.formatEther(bal));
        setUserStake(ethers.utils.formatEther(stakeInfo.amount));
        setPendingRewards(ethers.utils.formatEther(reward));
        setTotalStaked(ethers.utils.formatEther(totalS));
        setRewardPool(ethers.utils.formatEther(pool));
        setApy((Number(ethers.utils.formatUnits(apyRaw, 0)) / 100).toFixed(2));
      };

      const addTokenToWallet = async () => {
        try {
          await window.ethereum.request({
            method: 'wallet_watchAsset',
            params: { type: 'ERC20', options: { address: CONTRACT_ADDRESS, symbol: 'DRKT', decimals: 18, image: LOGO_URL } }
          });
        } catch { }
      };

      const handleStake = async () => {
        if (!account || !stakeAmount || Number(stakeAmount) <= 0) return setError("Invalid amount");
        setLoading(true);
        try {
          const amount = ethers.utils.parseEther(stakeAmount);
          let tx = await contract.approve(CONTRACT_ADDRESS, amount);
          await tx.wait();
          tx = await contract.stake(amount);
          await tx.wait();
          setStakeAmount("");
          await refreshUserData(account);
        } catch (e) { setError(e?.reason || e?.message || "Stake failed") }
        setLoading(false);
      };

      const handleUnstake = async () => {
        if (!account || !unstakeAmount || Number(unstakeAmount) <= 0) return setError("Invalid amount");
        setLoading(true);
        try {
          const amount = ethers.utils.parseEther(unstakeAmount);
          const tx = await contract.unstake(amount);
          await tx.wait();
          setUnstakeAmount("");
          await refreshUserData(account);
        } catch (e) { setError(e?.reason || e?.message || "Unstake failed") }
        setLoading(false);
      };

      const handleClaim = async () => {
        if (!account) return;
        setLoading(true);
        try {
          const tx = await contract.claimReward();
          await tx.wait();
          await refreshUserData(account);
        } catch (e) { setError(e?.reason || e?.message || "Claim failed") }
        setLoading(false);
      };

      const handleDonate = async () => {
        if (!account || !donateAmount || Number(donateAmount) <= 0) return setError("Invalid amount");
        setLoading(true);
        try {
          const amount = ethers.utils.parseEther(donateAmount);
          let tx = await contract.approve(CONTRACT_ADDRESS, amount);
          await tx.wait();
          tx = await contract.donateToPool(amount);
          await tx.wait();
          setDonateAmount("");
          await refreshUserData(account);
        } catch (e) { setError(e?.reason || e?.message || "Donate failed") }
        setLoading(false);
      };

      return (
        <div className="container mx-auto px-4 py-8">
          {error && (
            <div className="fixed top-4 left-4 right-4 bg-red-600/90 border border-red-500 p-4 rounded-lg z-50 flex justify-between">
              <span>{error}</span>
              <button onClick={() => setError("")} className="text-xl">×</button>
            </div>
          )}

          <header className="text-center py-12">
            <img src={LOGO_URL} alt="DRKT" className="w-24 h-24 mx-auto rounded-full border-4 border-yellow-400 mb-4" />
            <h1 className="text-5xl font-bold mb-3">DogeRocket Staking</h1>
            <p className="text-xl text-gray-300">Elevate your portfolio to stellar heights</p>

            <div className="mt-10 flex flex-col sm:flex-row justify-center gap-6 items-center">
              {!account ? (
                <button onClick={connectWallet} disabled={loading}
                  className="bg-indigo-600 hover:bg-indigo-500 text-white font-bold py-4 px-10 rounded-full flex items-center gap-3 text-lg transition">
                  <i className="ri-wallet-3-line text-2xl"></i>
                  {loading ? "Connecting..." : "Connect Wallet"}
                </button>
              ) : (
                <div className="flex items-center gap-4">
                  <span className="bg-white/10 px-5 py-3 rounded-full font-mono">
                    {account.slice(0,6)}...{account.slice(-4)}
                  </span>
                  <button onClick={disconnectWallet} className="bg-red-600 hover:bg-red-500 px-6 py-3 rounded-full">
                    Disconnect
                  </button>
                </div>
              )}

              <div className="flex gap-4">
                <a href={SALE_URL} target="_blank" rel="noopener noreferrer"
                  className="bg-green-600 hover:bg-green-500 px-8 py-4 rounded-full font-bold flex items-center gap-2">
                  <i className="ri-swap-line"></i> Swap on Quickswap
                </a>
                <button onClick={addTokenToWallet}
                  className="bg-gray-700 hover:bg-gray-600 px-6 py-4 rounded-full flex items-center gap-2">
                  <i className="ri-add-circle-line"></i> Add DRKT
                </button>
              </div>
            </div>
          </header>

          <section className="bg-white/10 backdrop-blur-sm rounded-xl p-8 mb-8 text-center">
            <h2 className="text-3xl font-bold mb-6">About DogeRocket</h2>
            <p className="text-lg text-gray-200 leading-relaxed mb-6">
              DogeRocket (DRKT) is a decentralized ERC-20 staking token on Polygon with a fixed 1B supply.
              Dynamic APY from 5.8% to 347%. 20% 10-year vest to DogeDAO • 40% staking rewards • 30% locked pool.
            </p>
            <div className="flex justify-center gap-8 text-blue-300">
              <a href="https://dogerocket.site" target="_blank" rel="noopener noreferrer" className="hover:text-white"><i className="ri-global-line text-2xl"></i> Website</a>
              <a href="https://x.com/DRKTDogeRocket" target="_blank" rel="noopener noreferrer" className="hover:text-white"><i className="ri-twitter-x-line text-2xl"></i> X</a>
              <a href="https://discord.gg/9QQ8FmY6nq" target="_blank" rel="noopener noreferrer" className="hover:text-white"><i className="ri-discord-line text-2xl"></i> Discord</a>
            </div>
          </section>

          <section className="grid grid-cols-1 md:grid-cols-3 gap-6 mb-12">
            <div className="bg-white/10 backdrop-blur-sm p-8 rounded-xl text-center">
              <h3 className="text-xl text-gray-300">Current APY</h3>
              <p className="text-5xl font-bold text-yellow-400">{apy}%</p>
            </div>
            <div className="bg-white/10 backdrop-blur-sm p-8 rounded-xl text-center">
              <h3 className="text-xl text-gray-300">Total Staked</h3>
              <p className="text-4xl font-bold">{parseFloat(totalStaked).toLocaleString(undefined,{maximumFractionDigits:0})} DRKT</p>
            </div>
            <div className="bg-white/10 backdrop-blur-sm p-8 rounded-xl text-center">
              <h3 className="text-xl text-gray-300">Reward Pool</h3>
              <p className="text-4xl font-bold">{parseFloat(rewardPool).toLocaleString(undefined,{maximumFractionDigits:0})} DRKT</p>
            </div>
          </section>

          {account && (
            <section className="bg-white/10 backdrop-blur-sm rounded-xl p-8">
              <h2 className="text-3xl font-bold text-center mb-8">Your Dashboard</h2>
              <div className="grid md:grid-cols-2 gap-10">
                <div className="space-y-6">
                  <div className="bg-blue-900/50 p-6 rounded-xl"><h3 className="text-xl text-gray-300">Wallet Balance</h3><p className="text-4xl font-bold text-yellow-400">{parseFloat(balance).toLocaleString()} DRKT</p></div>
                  <div className="bg-blue-900/50 p-6 rounded-xl"><h3 className="text-xl text-gray-300">Staked</h3><p className="text-4xl font-bold text-cyan-400">{parseFloat(userStake).toLocaleString()} DRKT</p></div>
                  <div className="bg-green-900/50 p-6 rounded-xl"><h3 className="text-xl text-gray-300">Pending Rewards</h3><p className="text-4xl font-bold text-green-400">{parseFloat(pendingRewards).toLocaleString()} DRKT</p></div>
                </div>
                <div className="space-y-6">
                  <div><label className="block text-lg mb-2">Stake Amount</label><input type="number" step="0.000000000000000001" value={stakeAmount} onChange={e=>setStakeAmount(e.target.value)} placeholder="0.0 DRKT" className="w-full p-4 bg-white/10 rounded-lg text-lg text-white"/><button onClick={handleStake} disabled={loading} className="mt-3 w-full bg-green-600 hover:bg-green-500 py-4 rounded-full font-bold text-xl disabled:opacity-50">Stake</button></div>
                  <div><label className="block text-lg mb-2">Unstake Amount</label><input type="number" step="0.000000000000000001" value={unstakeAmount} onChange={e=>setUnstakeAmount(e.target.value)} placeholder="0.0 DRKT" className="w-full p-4 bg-white/10 rounded-lg text-lg text-white"/><button onClick={handleUnstake} disabled={loading} className="mt-3 w-full bg-red-600 hover:bg-red-500 py-4 rounded-full font-bold text-xl disabled:opacity-50">Unstake</button></div>
                  <div><label className="block text-lg mb-2">Donate Amount</label><input type="number" step="0.000000000000000001" value={donateAmount} onChange={e=>setDonateAmount(e.target.value)} placeholder="0.0 DRKT" className="w-full p-4 bg-white/10 rounded-lg text-lg text-white"/><button onClick={handleDonate} disabled={loading} className="mt-3 w-full bg-purple-600 hover:bg-purple-500 py-4 rounded-full font-bold text-xl disabled:opacity-50">Donate</button></div>
                  <button onClick={handleClaim} disabled={loading || Number(pendingRewards)===0} className="w-full bg-yellow-600 hover:bg-yellow-500 py-5 rounded-full font-bold text-xl disabled:opacity-50">
                    {loading ? "Claiming..." : `Claim ${parseFloat(pendingRewards).toLocaleString()} DRKT Rewards`}
                  </button>
                </div>
              </div>
            </section>
          )}

          <footer className="text-center py-12 text-gray-400 border-t border-white/10 mt-16">
            © 2025 DogeRocket • Polygon Mainnet • All Rights Reserved
          </footer>
        </div>
      );
    }

    ReactDOM.render(<App />, document.getElementById("root"));
  </script>
</body>
</html>
