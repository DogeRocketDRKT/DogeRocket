<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>DogeRocket Staking dApp</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <script src="https://unpkg.com/ethers@5.7.2/dist/ethers.umd.min.js"></script>
  <script src="https://unpkg.com/@web3modal/ethers5@3.5.4/dist/index.js"></script>
</head>
<body class="bg-gradient-to-b from-blue-900 to-blue-500 text-white min-h-screen font-sans">
  <div id="root"></div>
  <script type="text/babel">
    const { useState, useEffect } = React;
    const { ethers } = window.ethers;

    // Production values
    const CONTRACT_ADDRESS = "0x03720cc99a302c101dbd48489a6c2c8bb52d178d";
    const CHAIN_ID = 137; // Polygon Mainnet
    const RPC_URL = "https://polygon-mainnet.infura.io/v3/4e16c4dd948a444ba97a4cdb992b33d1";
    const ABI = [
      {"inputs":[],"stateMutability":"nonpayable","type":"constructor"},
      {"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"allowance","type":"uint256"},{"internalType":"uint256","name":"needed","type":"uint256"}],"name":"ERC20InsufficientAllowance","type":"error"},
      {"inputs":[{"internalType":"address","name":"sender","type":"address"},{"internalType":"uint256","name":"balance","type":"uint256"},{"internalType":"uint256","name":"needed","type":"uint256"}],"name":"ERC20InsufficientBalance","type":"error"},
      {"inputs":[{"internalType":"address","name":"approver","type":"address"}],"name":"ERC20InvalidApprover","type":"error"},
      {"inputs":[{"internalType":"address","name":"receiver","type":"address"}],"name":"ERC20InvalidReceiver","type":"error"},
      {"inputs":[{"internalType":"address","name":"sender","type":"address"}],"name":"ERC20InvalidSender","type":"error"},
      {"inputs":[{"internalType":"address","name":"spender","type":"address"}],"name":"ERC20InvalidSpender","type":"error"},
      {"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"OwnableInvalidOwner","type":"error"},
      {"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"OwnableUnauthorizedAccount","type":"error"},
      {"inputs":[{"internalType":"address","name":"token","type":"address"}],"name":"SafeERC20FailedOperation","type":"error"},
      {"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Approval","type":"event"},
      {"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"wallet","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"LockedTokensClaimed","type":"event"},
      {"anonymous":false,"inputs":[{"indexed":false,"internalType":"string","name":"newCID","type":"string"},{"indexed":false,"internalType":"string","name":"newDescription","type":"string"}],"name":"MetadataUpdated","type":"event"},
      {"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},
      {"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"user","type":"address"},{"indexed":false,"internalType":"uint256","name":"reward","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"timestamp","type":"uint256"}],"name":"RewardClaimed","type":"event"},
      {"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"sender","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"RewardPoolContribution","type":"event"},
      {"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"previousPool","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"newPool","type":"uint256"}],"name":"RewardPoolModified","type":"event"},
      {"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"user","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"RewardsExpired","type":"event"},
      {"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"user","type":"address"}],"name":"StakePruned","type":"event"},
      {"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"user","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"TokensStaked","type":"event"},
      {"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"user","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"fee","type":"uint256"}],"name":"TokensUnstaked","type":"event"},
      {"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"wallet","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"VestedTokensClaimed","type":"event"},
      {"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Transfer","type":"event"},
      {"inputs":[],"name":"LOCKED_LOCK_DURATION","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},
      {"inputs":[],"name":"LOCKED_VESTING_PERIODS","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},
      {"inputs":[],"name":"MAX_CLAIM_WINDOW","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},
      {"inputs":[],"name":"MAX_REWARD_RATE","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},
      {"inputs":[],"name":"MAX_STAKE","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},
      {"inputs":[],"name":"MAX_STAKE_DURATION","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},
      {"inputs":[],"name":"MAX_SUPPLY","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},
      {"inputs":[],"name":"MIN_DONATION","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},
      {"inputs":[],"name":"MIN_REWARD_RATE","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},
      {"inputs":[],"name":"MIN_STAKE","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},
      {"inputs":[],"name":"MIN_STAKE_DURATION","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},
      {"inputs":[],"name":"STAKE_COOLDOWN","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},
      {"inputs":[],"name":"STAKING_REWARDS_ALLOCATION","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},
      {"inputs":[],"name":"TARGET_POOL_COVERAGE","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},
      {"inputs":[],"name":"WITHDRAW_FEE","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},
      {"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},
      {"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},
      {"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},
      {"inputs":[{"internalType":"address","name":"user","type":"address"}],"name":"calculateReward","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},
      {"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"claimLockedToPool","outputs":[],"stateMutability":"nonpayable","type":"function"},
      {"inputs":[],"name":"claimReward","outputs":[],"stateMutability":"nonpayable","type":"function"},
      {"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"claimVested","outputs":[],"stateMutability":"nonpayable","type":"function"},
      {"inputs":[],"name":"contractDescription","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},
      {"inputs":[],"name":"currentAPY","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},
      {"inputs":[],"name":"deploymentTime","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},
      {"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"dogeStakes","outputs":[{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"pendingRewards","type":"uint256"},{"internalType":"uint64","name":"lastUpdateTime","type":"uint64"},{"internalType":"uint64","name":"lastActionTime","type":"uint64"},{"internalType":"uint64","name":"stakeStartTime","type":"uint64"}],"stateMutability":"view","type":"function"},
      {"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"donateToPool","outputs":[],"stateMutability":"nonpayable","type":"function"},
      {"inputs":[],"name":"lockedAmount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},
      {"inputs":[],"name":"lockedClaimedAmount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},
      {"inputs":[],"name":"metadataCID","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},
      {"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},
      {"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},
      {"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"pure","type":"function"},
      {"inputs":[],"name":"rewardPool","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},
      {"inputs":[{"internalType":"string","name":"newCID","type":"string"},{"internalType":"string","name":"newDescription","type":"string"}],"name":"setMetadata","outputs":[],"stateMutability":"nonpayable","type":"function"},
      {"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"stake","outputs":[],"stateMutability":"nonpayable","type":"function"},
      {"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},
      {"inputs":[],"name":"totalStaked","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},
      {"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},
      {"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},
      {"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},
      {"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},
      {"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"unstake","outputs":[],"stateMutability":"nonpayable","type":"function"},
      {"inputs":[],"name":"vestedAmount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},
      {"inputs":[],"name":"vestedClaimedAmount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"}
    ];

    // Web3Modal configuration
    const projectId = "d2ef0dc4e30bb16fb86b1a73175e2261"; 
    let modal = null;
    if (window.Web3Modal && window.Web3Modal.Web3Modal) {
      modal = new window.Web3Modal.Web3Modal({
        projectId,
        walletConnectVersion: 2,
        themeMode: "dark",
        themeVariables: {
          "--w3m-accent-color": "#1E40AF",
          "--w3m-background-color": "#1E3A8A"
        }
      });
    } else {
      console.error("Web3Modal not loaded");
    }

    function App() {
      const [provider, setProvider] = useState(null);
      const [signer, setSigner] = useState(null);
      const [contract, setContract] = useState(null);
      const [account, setAccount] = useState(null);
      const [balance, setBalance] = useState("0");
      const [apy, setApy] = useState("0");
      const [totalStaked, setTotalStaked] = useState("0");
      const [rewardPool, setRewardPool] = useState("0");
      const [userStake, setUserStake] = useState("0");
      const [pendingRewards, setPendingRewards] = useState("0");
      const [stakeAmount, setStakeAmount] = useState("");
      const [unstakeAmount, setUnstakeAmount] = useState("");
      const [donateAmount, setDonateAmount] = useState("");
      const [error, setError] = useState("");
      const [loading, setLoading] = useState(false);

      // Initialize provider and contract
      useEffect(() => {
        const init = async () => {
          try {
            const ethersProvider = new ethers.providers.JsonRpcProvider(RPC_URL);
            const contractInstance = new ethers.Contract(CONTRACT_ADDRESS, ABI, ethersProvider);
            setProvider(ethersProvider);
            setContract(contractInstance);

            // Fetch initial data
            const apyRaw = await contractInstance.currentAPY();
            setApy(ethers.utils.formatEther(apyRaw) / 100);
            const totalStakedRaw = await contractInstance.totalStaked();
            setTotalStaked(ethers.utils.formatEther(totalStakedRaw));
            const rewardPoolRaw = await contractInstance.rewardPool();
            setRewardPool(ethers.utils.formatEther(rewardPoolRaw));
          } catch (err) {
            console.error("Error fetching initial data:", err);
            setError("Failed to load contract data. Please try again.");
          }
        };
        init();
      }, []);

      // Connect wallet
      const connectWallet = async () => {
        if (!modal) {
          setError("Web3Modal not initialized. Please refresh the page.");
          return;
        }
        try {
          setLoading(true);
          const instance = await modal.connect();
          const ethersProvider = new ethers.providers.Web3Provider(instance);
          const signerInstance = ethersProvider.getSigner();
          const address = await signerInstance.getAddress();
          const chainId = Number((await ethersProvider.getNetwork()).chainId);

          if (chainId !== CHAIN_ID) {
            setError(`Please switch to Polygon Mainnet`);
            return;
          }

          setSigner(signerInstance);
          setAccount(address);
          const contractWithSigner = new ethers.Contract(CONTRACT_ADDRESS, ABI, signerInstance);
          setContract(contractWithSigner);

          // Fetch user data
          const balanceRaw = await contractWithSigner.balanceOf(address);
          setBalance(ethers.utils.formatEther(balanceRaw));
          const stakeData = await contractWithSigner.dogeStakes(address);
          setUserStake(ethers.utils.formatEther(stakeData.amount));
          const rewardsRaw = await contractWithSigner.calculateReward(address);
          setPendingRewards(ethers.utils.formatEther(rewardsRaw));
        } catch (err) {
          setError("Failed to connect wallet: " + err.message);
        } finally {
          setLoading(false);
        }
      };

      // Handle stake
      const handleStake = async () => {
        if (!signer || !stakeAmount) return;
        try {
          setLoading(true);
          setError("");
          const amount = ethers.utils.parseEther(stakeAmount);
          await contract.approve(CONTRACT_ADDRESS, amount);
          const tx = await contract.stake(amount);
          await tx.wait();
          setStakeAmount("");
          const balanceRaw = await contract.balanceOf(account);
          setBalance(ethers.utils.formatEther(balanceRaw));
          const stakeData = await contract.dogeStakes(account);
          setUserStake(ethers.utils.formatEther(stakeData.amount));
          const rewardsRaw = await contract.calculateReward(account);
          setPendingRewards(ethers.utils.formatEther(rewardsRaw));
          const totalStakedRaw = await contract.totalStaked();
          setTotalStaked(ethers.utils.formatEther(totalStakedRaw));
        } catch (err) {
          setError("Staking failed: " + err.message);
        } finally {
          setLoading(false);
        }
      };

      // Handle unstake
      const handleUnstake = async () => {
        if (!signer || !unstakeAmount) return;
        try {
          setLoading(true);
          setError("");
          const amount = ethers.utils.parseEther(unstakeAmount);
          const tx = await contract.unstake(amount);
          await tx.wait();
          setUnstakeAmount("");
          const balanceRaw = await contract.balanceOf(account);
          setBalance(ethers.utils.formatEther(balanceRaw));
          const stakeData = await contract.dogeStakes(account);
          setUserStake(ethers.utils.formatEther(stakeData.amount));
          const rewardsRaw = await contract.calculateReward(account);
          setPendingRewards(ethers.utils.formatEther(rewardsRaw));
          const totalStakedRaw = await contract.totalStaked();
          setTotalStaked(ethers.utils.formatEther(totalStakedRaw));
        } catch (err) {
          setError("Unstaking failed: " + err.message);
        } finally {
          setLoading(false);
        }
      };

      // Handle claim rewards
      const handleClaimRewards = async () => {
        if (!signer) return;
        try {
          setLoading(true);
          setError("");
          const tx = await contract.claimReward();
          await tx.wait();
          const balanceRaw = await contract.balanceOf(account);
          setBalance(ethers.utils.formatEther(balanceRaw));
          const stakeData = await contract.dogeStakes(account);
          setUserStake(ethers.utils.formatEther(stakeData.amount));
          const rewardsRaw = await contract.calculateReward(account);
          setPendingRewards(ethers.utils.formatEther(rewardsRaw));
        } catch (err) {
          setError("Claiming rewards failed: " + err.message);
        } finally {
          setLoading(false);
        }
      };

      // Handle donate to pool
      const handleDonate = async () => {
        if (!signer || !donateAmount) return;
        try {
          setLoading(true);
          setError("");
          const amount = ethers.utils.parseEther(donateAmount);
          await contract.approve(CONTRACT_ADDRESS, amount);
          const tx = await contract.donateToPool(amount);
          await tx.wait();
          setDonateAmount("");
          const balanceRaw = await contract.balanceOf(account);
          setBalance(ethers.utils.formatEther(balanceRaw));
          const rewardPoolRaw = await contract.rewardPool();
          setRewardPool(ethers.utils.formatEther(rewardPoolRaw));
        } catch (err) {
          setError("Donation failed: " + err.message);
        } finally {
          setLoading(false);
        }
      };

      return (
        <div className="container mx-auto px-4 py-8">
          <header className="text-center py-12">
            <h1 className="text-4xl md:text-5xl font-bold text-white">DogeRocket</h1>
            <p className="text-lg md:text-xl text-gray-300 mt-4">
              A decentralized staking token with dynamic APY rewards
            </p>
            <button
              onClick={connectWallet}
              disabled={loading}
              className="mt-6 bg-blue-700 hover:bg-blue-600 text-white font-semibold py-2 px-6 rounded-lg disabled:opacity-50"
            >
              {loading ? "Connecting..." : (account ? `Connected: ${account.slice(0, 6)}...${account.slice(-4)}` : "Connect Wallet")}
            </button>
          </header>

          <section className="bg-gray-100 text-gray-800 rounded-lg p-6 mb-8">
            <h2 className="text-2xl font-semibold mb-4">About DogeRocket</h2>
            <p className="text-lg">
              DogeRocket (DRKT) is an ERC20 token on Polygon with a total supply of 1B tokens. Stake DRKT to earn rewards with a dynamic APY (5.8% to 347%). 30% is allocated to the team (vested over 10 years), 40% to staking rewards, and 30% to the locked pool.
            </p>
            <div className="mt-4 flex space-x-4">
              <a href="https://dogerocket.site" className="text-blue-600 hover:underline">Website</a>
              <a href="https://x.com/DRKTDogeRocket" className="text-blue-600 hover:underline">Twitter</a>
              <a href="https://discord.gg/9QQ8FmY6nq" className="text-blue-600 hover:underline">Discord</a>
            </div>
          </section>

          <section className="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
            <div className="bg-blue-800 p-6 rounded-lg text-center">
              <h3 className="text-lg font-semibold text-gray-300">Current APY</h3>
              <p className="text-2xl font-bold">{apy}%</p>
            </div>
            <div className="bg-blue-800 p-6 rounded-lg text-center">
              <h3 className="text-lg font-semibold text-gray-300">Total Staked</h3>
              <p className="text-2xl font-bold">{totalStaked} DRKT</p>
            </div>
            <div className="bg-blue-800 p-6 rounded-lg text-center">
              <h3 className="text-lg font-semibold text-gray-300">Reward Pool</h3>
              <p className="text-2xl font-bold">{rewardPool} DRKT</p>
            </div>
          </section>

          {account && (
            <section className="bg-gray-100 text-gray-800 rounded-lg p-6">
              <h2 className="text-2xl font-semibold mb-4">Staking Dashboard</h2>
              <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div>
                  <h3 className="text-lg font-semibold">Your Balance: {balance} DRKT</h3>
                  <h3 className="text-lg font-semibold">Your Stake: {userStake} DRKT</h3>
                  <h3 className="text-lg font-semibold">Pending Rewards: {pendingRewards} DRKT</h3>
                </div>
                <div>
                  <div className="mb-4">
                    <label className="block text-sm font-medium mb-2">Stake Amount (DRKT)</label>
                    <input
                      type="number"
                      value={stakeAmount}
                      onChange={(e) => setStakeAmount(e.target.value)}
                      className="w-full p-2 rounded-lg text-gray-800"
                      placeholder="Enter amount"
                    />
                    <button
                      onClick={handleStake}
                      disabled={loading}
                      className="mt-2 w-full bg-blue-700 hover:bg-blue-600 text-white py-2 rounded-lg disabled:opacity-50"
                    >
                      {loading ? "Processing..." : "Stake"}
                    </button>
                  </div>
                  <div className="mb-4">
                    <label className="block text-sm font-medium mb-2">Unstake Amount (DRKT)</label>
                    <input
                      type="number"
                      value={unstakeAmount}
                      onChange={(e) => setUnstakeAmount(e.target.value)}
                      className="w-full p-2 rounded-lg text-gray-800"
                      placeholder="Enter amount"
                    />
                    <button
                      onClick={handleUnstake}
                      disabled={loading}
                      className="mt-2 w-full bg-blue-700 hover:bg-blue-600 text-white py-2 rounded-lg disabled:opacity-50"
                    >
                      {loading ? "Processing..." : "Unstake"}
                    </button>
                  </div>
                  <div className="mb-4">
                    <label className="block text-sm font-medium mb-2">Donate to Pool (DRKT)</label>
                    <input
                      type="number"
                      value={donateAmount}
                      onChange={(e) => setDonateAmount(e.target.value)}
                      className="w-full p-2 rounded-lg text-gray-800"
                      placeholder="Enter amount"
                    />
                    <button
                      onClick={handleDonate}
                      disabled={loading}
                      className="mt-2 w-full bg-blue-700 hover:bg-blue-600 text-white py-2 rounded-lg disabled:opacity-50"
                    >
                      {loading ? "Processing..." : "Donate"}
                    </button>
                  </div>
                  <button
                    onClick={handleClaimRewards}
                    disabled={loading}
                    className="w-full bg-blue-700 hover:bg-blue-600 text-white py-2 rounded-lg disabled:opacity-50"
                  >
                    {loading ? "Processing..." : "Claim Rewards"}
                  </button>
                </div>
              </div>
              {error && <p className="text-red-500 mt-4">{error}</p>}
            </section>
          )}
          <footer className="text-center py-8 text-gray-300">
            <p>&copy; 2025 DogeRocket. All rights reserved.</p>
          </footer>
        </div>
      );
    }
    ReactDOM.render(<App />, document.getElementById("root"));
  </script>
</body>
</html>
